{
    "componentChunkName": "component---src-pages-blog-mdx-slug-js",
    "path": "/blog/aspnet-razorpages-model-binding/",
    "result": {"data":{"mdx":{"frontmatter":{"title":"Model Binding in ASP.NET Razor Pages","date":"April 2, 2022","hero_image_alt":null,"hero_image_credit_link":null,"hero_image_credit_text":null,"hero_image":null},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Model Binding in ASP.NET Razor Pages\",\n  \"date\": \"2022-04-02\",\n  \"description\": \"A overview of model binding in Microsoft's Razor Pages Framework\",\n  \"author\": \"John Moss\",\n  \"tags\": [\"ASP.NET Core\", \"C#\", \"Web API\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The ASP.NET Razor Pages framework automatically binds Http request parameters to our controller paramters.\\nIn this post we look at the basics of Http form posts before understanding how we can bind our html controls to the\\nRazor model.\"), mdx(\"h3\", null, \"Html Form Post\"), mdx(\"p\", null, \"A simple post request looks like so:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<form\\n  method=\\\"post\\\"\\n  action=\\\"https://localhost:44315/fromform\\\"\\n  enctype=\\\"multipart/form-data\\\"\\n>\\n  <input type=\\\"text\\\" value=\\\"27\\\" name=\\\"age\\\" />\\n  <input type=\\\"text\\\" value=\\\"John\\\" name=\\\"name\\\" />\\n  <input type=\\\"text\\\" value=\\\"Number1\\\" name=\\\"id\\\" />\\n\\n  <button type=\\\"submit\\\">Go</button>\\n</form>\\n\")), mdx(\"p\", null, \"If the above form is posted to the following controller then the ASP.NET Web Api framework binds the attributes meaning that you can access the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"age\"), \" parameters in the method:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"[HttpPost]\\n[Route(\\\"/fromform\\\")]\\npublic IActionResult GetForm([FromForm] string id,\\n    [FromForm] string name,\\n    [FromForm] int age)\\n{\\n    if (string.IsNullOrEmpty(id))\\n        return BadRequest();\\n\\n    return Ok($\\\"{name} is {age} years old!\\\");\\n}\\n\")), mdx(\"h3\", null, \"Razor Page Form Post\"), mdx(\"p\", null, \"By the same token, a razor page form in its simplest form can look like so:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<form method=\\\"post\\\">\\n  <input type=\\\"text\\\" name=\\\"CustomerCreateModel.FirstName\\\" value=\\\"\\\" />\\n  <input type=\\\"text\\\" name=\\\"CustomerCreateModel.LastName\\\" value=\\\"\\\" />\\n  <input type=\\\"text\\\" name=\\\"CustomerCreateModel.JobRole\\\" value=\\\"\\\" />\\n  <input type=\\\"text\\\" name=\\\"CustomerCreateModel.JobGrade\\\" value=\\\"\\\" />\\n\\n  <button type=\\\"submit\\\">Create</button>\\n</form>\\n\")), mdx(\"p\", null, \"If the Razor Page's code behind has a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"BindProperty\"), \" called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CustomerCreateModel\"), \" which in turn is a class with the appropriate properties, then these values will all be hooked up at runtime:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"public class CustomerCreateModel\\n{\\n    public string FirstName { get; set; }\\n    public string LastName { get; set; }\\n    public DateTime EmploymentDate { get; set; }\\n    public string JobRole { get; set; }\\n    public string JobGrade { get; set; }\\n}\\n\\npublic class CreateModel : PageModel\\n{\\n    [BindProperty]\\n    public CustomerCreateModel CustomerCreateModel { get; set; }\\n\\n\\n    public void OnPost()\\n    {\\n       // Model is bound on post back...\\n       var name = $\\\"{CustomerCreateModel.FirstName} {CustomerCreateModel.LastName}\\\";\\n    }\\n}\\n\")), mdx(\"p\", null, \"Here is the code with a watch showing the above form being submitted:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"829px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/18b4e1c8d993c9224144d97653e3c466/9d76a/razor-pages-model-binding.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"52.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVQoz31S21LbMBTMl0BIbFlXS1Zsx/EEkkJSAikmGJh2eKPT//+FZXQcB8rtYedIlrTes3sGIrPgmQf3ORKbg5kMI6EwlilhyDiO44RwwkSHpMOIy0PtMRglEm5WQvoCzBaIjUNsPBEbP4HNS9h8Cl/VEM6BWY0kNYik/kBGhGOhEBuFSElEKgXTlupYGiTGgqcO3FiI1CFWGpFShPDuPVn4ARHaKgfPDEL7rpyBaXNos8dRxPbt8/9s6NfDvdrBmEvEWkN6D+k8tLWwxZTgygrG56Syq5buSBvsKMiOsHfFFFybTmFQYyYaLE0hUguuNVQ2gZ/O0OxatPePaG5bbK62uN7e4K59wO7uAT8u1pgvlqhPF1herDApq44wmDviAkMmSHb4eMxCohxt+4i/z/9wtdlivbrEn99PaJodrZX1OArJJ4La7gMadCMgPxgcrDhfXeJXs0M9P0M9X+Dn5hrL8zWqek4hvU+ZFHabV9K3M9YbTiqC8hDEXs1nI/OGUH56+NXZd3deABz3MM8IPwPpAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"image-20210621205428618\",\n    \"title\": \"image-20210621205428618\",\n    \"src\": \"/static/18b4e1c8d993c9224144d97653e3c466/9d76a/razor-pages-model-binding.png\",\n    \"srcSet\": [\"/static/18b4e1c8d993c9224144d97653e3c466/5a46d/razor-pages-model-binding.png 300w\", \"/static/18b4e1c8d993c9224144d97653e3c466/0a47e/razor-pages-model-binding.png 600w\", \"/static/18b4e1c8d993c9224144d97653e3c466/9d76a/razor-pages-model-binding.png 829w\"],\n    \"sizes\": \"(max-width: 829px) 100vw, 829px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h3\", null, \"Model Binding Collections\"), mdx(\"p\", null, \"It's also possible to bind collections. Imagine that we have a collection of the models and we initialise some of the values on get:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"public class CreateModel : PageModel\\n{\\n    [BindProperty]\\n    public IList<CustomerCreateModel> CustomerCreateModel { get; set; }\\n\\n\\n    public void OnGet()\\n    {\\n        CustomerCreateModel = new List<CustomerCreateModel>()\\n        {\\n            new CustomerCreateModel() {FirstName = \\\"John\\\"},\\n            new CustomerCreateModel() {FirstName = \\\"Jane\\\"},\\n            new CustomerCreateModel() {FirstName = \\\"Jules\\\"},\\n            new CustomerCreateModel() {FirstName = \\\"Jimmy\\\"},\\n        };\\n    }\\n\\n    public void OnPost()\\n    {\\n        // Model is bound on post back...\\n       var first = CustomerCreateModel.First();\\n       var name = $\\\"{first.FirstName} {first.LastName}\\\";\\n    }\\n}\\n\")), mdx(\"p\", null, \"Now the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"FirstName\"), \" has a value that we want to display, but if we also want to bind the remaining columns. In our view, we have a for loop which\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<form method=\\\"post\\\"> \\n\\n      @for (int i = 0; i < Model.CustomerCreateModel.Count(); i++) { \\n            <input type=\\\"text\\\" name=\\\"@($\\\"CustomerCreateModel[{i}].FirstName\\\")\\\" \\n                  value=\\\"@($\\\"Model.CustomerCreateModel[i].FirstName}\\\")\\\" /> \\n            <input type=\\\"text\\\" name=\\\"@($\\\"CustomerCreateModel[{i}].LastName\\\")\\\" \\n                  value=\\\"@($\\\"{Model.CustomerCreateModel[i].LastName}\\\")\\\" /> \\n            <input type=\\\"text\\\" name=\\\"@($\\\"CustomerCreateModel[{i}].JobRole\\\")\\\" \\n                  value=\\\"@($\\\"{Model.CustomerCreateModel[i].JobRole}\\\")\\\" /> \\n            <input type=\\\"text\\\" name=\\\"@($\\\"CustomerCreateModel[{i}].JobGrade\\\")\\\" \\n                  value=\\\"@($\\\"{Model.CustomerCreateModel[i].JobGrade}\\\")\\\" />\\n            <br />\\n      }\\n  <br />\\n  <button type=\\\"submit\\\">Create</button>\\n</form>\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note\"), \" the above syntax in the html attributes is the razor inline \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@(...)\"), \" delimiters with some string interpolation nested inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$\\\"This is the {name}\\\"\"), \" The result is a bit messy, but does work!\"), mdx(\"p\", null, \"Rendered, the html now looks like so:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"842px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/ad827bc9041213bc34efcaac00e6aff9/99072/razor-pages-model-binding-multiple-htmlview.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"38.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEUlEQVQoz41Ra2+DMAzk//+/PTuJdyoCTUICSWiBm+wqG6v6YZYsc+buFNuZMQaXywVaawxDD6UUYggIMcKHAGsdbrcb9n3/V2ZkRCZkaq3FOI7QxsC5u9GyLFjXlcnbth3yEW9Y1w1ZXhQ4nb7w/vGJTkp0XYeX1zc0TQsKMkrGv8IV1+uV69GQIpNS8ngkIpLWCn3f87f3HsEHiLNAK8QdhwBnHeq6gjYj43meufLIZVnymNQkAZmVVcU49Zqm4ZeTiLAdLYo8hzIGwfu/hn0/wLkJMQbEGKGVQtu0P6+hlLLjdSQ8TROEEBitZQ1xqbJhXdf8M+0rLf94ubSjx97jhXmHdGEa+VkciQk/4xzjG3A3bQdlt+UtAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"image-20210621210450012\",\n    \"title\": \"image-20210621210450012\",\n    \"src\": \"/static/ad827bc9041213bc34efcaac00e6aff9/99072/razor-pages-model-binding-multiple-htmlview.png\",\n    \"srcSet\": [\"/static/ad827bc9041213bc34efcaac00e6aff9/5a46d/razor-pages-model-binding-multiple-htmlview.png 300w\", \"/static/ad827bc9041213bc34efcaac00e6aff9/0a47e/razor-pages-model-binding-multiple-htmlview.png 600w\", \"/static/ad827bc9041213bc34efcaac00e6aff9/99072/razor-pages-model-binding-multiple-htmlview.png 842w\"],\n    \"sizes\": \"(max-width: 842px) 100vw, 842px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"And when we post back, the debugger shows the bound values:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"752px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/eb9429ab9359081df778f799cfbac2a3/442cb/razor-pages-model-binding-multiple-debuggerview.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"39.666666666666664%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVQoz42S247TQBBE/SVks1nfxs54PL7F8SbxbTCLogXJImhRVoH//4iD7IUoPIB4KPU89FR3VZe1EgFqm+JrOSMtK2SSce8Jlq7Pveu/VU/8F6wHEWKHIVN11hJnrbBD+dbgB1csHI+7W/wasrwhmwZbS1ewCgRxlVPuG1Siqc3ArjPs+/cMH4881i27uiXJNwipWCuNv46umy9/q5gIgygizhNklhJlOZ7wCeOEIE4QkWLXPpEXFbHSFEXJptiyLR/J8g2R0kQqIdYpaVrMw2bJK09w5/hXKQvbnd/vHmzKw8ChMTNR1xnquqVte4wZGIYnmqajqnYcJnU6myT/3fSJNMkKXl+/c7n84Pn5M8Z8YBy/cjq9cDx+ou0MXigJpMINJNatoX/44Yl5U6kzzucL317OtK2h7wfG8cQ4fqFpespqz8Jxr/+sf0VgarBFOJNOUQqURkQxa53OCCKNd3OcKTY/AX6m+qnd1cW2AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"image-20210621211423544\",\n    \"title\": \"image-20210621211423544\",\n    \"src\": \"/static/eb9429ab9359081df778f799cfbac2a3/442cb/razor-pages-model-binding-multiple-debuggerview.png\",\n    \"srcSet\": [\"/static/eb9429ab9359081df778f799cfbac2a3/5a46d/razor-pages-model-binding-multiple-debuggerview.png 300w\", \"/static/eb9429ab9359081df778f799cfbac2a3/0a47e/razor-pages-model-binding-multiple-debuggerview.png 600w\", \"/static/eb9429ab9359081df778f799cfbac2a3/442cb/razor-pages-model-binding-multiple-debuggerview.png 752w\"],\n    \"sizes\": \"(max-width: 752px) 100vw, 752px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"da0407a3-3fc9-539e-8802-296196b3ca58","slug":"aspnet-razorpages-model-binding/","__params":{"slug":"aspnet-razorpages-model-binding"}}},
    "staticQueryHashes": ["3159585216"]}