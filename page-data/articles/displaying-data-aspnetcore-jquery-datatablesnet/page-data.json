{
    "componentChunkName": "component---src-pages-articles-mdx-slug-js",
    "path": "/articles/displaying-data-aspnetcore-jquery-datatablesnet/",
    "result": {"data":{"mdx":{"frontmatter":{"title":"Displaying Data With ASP.NET Core and jQuery datatables.net","date":"December 5, 2022"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Displaying Data With ASP.NET Core and jQuery datatables.net\",\n  \"date\": \"2022-12-05\",\n  \"tags\": [\"ASP.NET Core\", \"C#\", \"jQuery\", \"datatables.net\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Software systems often have to display a lot of data and people expect functionality like pagination, searching and sorting by default. The \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://datatables.net/\"\n  }, \"jQuery plugin datatables.net\"), \" transforms a basic HTML table with a few lines of code into a fully functional data grid. Its pretty awesome!\"), mdx(\"p\", null, \"A few lines of code gets you up and running with a client-side solution which is not ideal for large datasets but, the plugin also supports server-side scenarios although some custom code to page, sort and filter your data.\"), mdx(\"p\", null, \"A final version of this tutorial code is available \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/johnmmoss/AspNetCore-Samples/tree/main/AspNetWebServerSidePagination\"\n  }, \"available on GitHub\"), \".\"), mdx(\"h3\", null, \"Getting Started\"), mdx(\"p\", null, \"I decided to use the data provided by \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://annexare.com/\"\n  }, \"annexare.com\"), \" in their \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/countries-list\"\n  }, \"countries-list\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm\"), \" package to demo this control. You can access the data as a CSV from the project's \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/annexare/Countries/blob/master/dist/countries.csv\"\n  }, \"github repo\"), \".\"), mdx(\"p\", null, \"Start by creating an ASP.NET Core Web App and add the following code to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Index.chtml.cs\"), \" page's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OnGet\"), \" method to read the data from the data file:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"var path = @\\\"Data\\\\countries.csv\\\";\\nusing (var reader = new StreamReader(path))\\nusing (var csv = new CsvReader(reader, CultureInfo.InvariantCulture))\\n{\\n    Countries = csv.GetRecords<Country>().ToList();\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Notes\"), \" \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The above code uses the \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://joshclose.github.io/CsvHelper/getting-started/\"\n  }, \"CsvHelper\"), \" library to read the CSV file.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The standard ASP.NET Core Web App template has jQuery and Bootstrap already installed.\")), mdx(\"p\", null, \"The above code uses a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Country\"), \" class:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"public class Country\\n{\\n    public string Code { get; set; }\\n    public string Name { get; set; }\\n    public string Continent { get; set; }\\n    public string Capital { get; set; }\\n}\\n\")), mdx(\"p\", null, \"Next, we add some code to the Razor view \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Index.cshtml\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<table id=\\\"countries\\\" class=\\\"table\\\">\\n    <thead>\\n    <tr>\\n        <th>Code</th>\\n        <th>Name</th>\\n        <th>Capital</th>\\n        <th>Continent</th>\\n    </tr>\\n    </thead>\\n    <tbody>\\n        @foreach(var country in Model.Countries)\\n        {\\n            <tr>\\n                <td>@country.Code</td>\\n                <td>@country.Name</td>\\n                <td>@country.Capital</td>\\n                <td>@country.Continent</td>\\n            </tr>\\n        }\\n    </tbody>\\n</table>\\n\")), mdx(\"p\", null, \"To setup datatables.net we need to add the script file and the CSS file for the styles. You can download the relevant files using the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://datatables.net/download/\"\n  }, \"datatables.net download builder\"), \". I decided to use Bootstrap 5 styling to match the Web App styling and used a CDN rather the a package manager. \"), mdx(\"p\", null, \"So add the styles to the header and the script goes towards the bottom of the page beneath the jQuery reference:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"https://cdn.datatables.net/v/bs5/dt-1.13.1/datatables.min.css\\\"/>\\n\\n<script type=\\\"text/javascript\\\" src=\\\"https://cdn.datatables.net/v/bs5/dt-1.13.1/datatables.min.js\\\"></script>\\n\")), mdx(\"p\", null, \"That's the jQuery datatables.net plugin installed, so now we just need to add the appropriate JavaScript to the to make the magic happen. On the page with the above HTML table, add the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<script>\\n    $(document).ready(function () {\\n        $('#countries').DataTable();\\n    });\\n</script>\\n\")), mdx(\"p\", null, \"The HTML table should transform from one big boring table into a nicer styled version with pagination, searching and sorting included all provided as shown below:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/64011cd176305adba8352b23dd9f7566/8a69d/datatablesnet-basic-bootstrap-view.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"77.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgUlEQVQoz21TyY4UMQyt//8JDvwCMwc0iAM3RA9CHEDcgcN0d8WVxPESu1CSXuieerJKspPn5ZUzPX3df/p+/Pxjv/s1P32Dh114fIbHZ3jYXW1ETrYL777Mbz/8efP+93SE/HKAl/0RYCEiKsXd1tXXG/jV3N0sF46ZJ1VZW8B7sJs3iykBLAGWZYlmNoJ2vuPeEk2qum6hFAKAxl2W16feOlinUkrOuX9xM4u7M3MvtYpIyplFe21v5JRzQYQQdAvMvD8csOBw53mOMVVVM5uYuTZYmCHnrKp+CzMLAQrRcEtT9CTnmaw1BEDEWusrck05DZHcHUshZjO7klUVAIhoi9wqi8iYP6UUQqgXsnZyjPGi0P+o1XLGi4sFW9khGDOLNCViSr4FM0v9aHSOiHae4dS2mQHAJXqHcWesXYoxpji2rZGJiIlijGep7/eBmSLSx5+OZMxSiEjMfJ2kN13H7+oybEKr/QVXOyWu1jdMRGqtfWqVnonl/l3cNnPt7R+4Gml1lABDLAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"datatables.net Bootstrap styling\",\n    \"title\": \"datatables.net Bootstrap styling\",\n    \"src\": \"/static/64011cd176305adba8352b23dd9f7566/c1b63/datatablesnet-basic-bootstrap-view.png\",\n    \"srcSet\": [\"/static/64011cd176305adba8352b23dd9f7566/5a46d/datatablesnet-basic-bootstrap-view.png 300w\", \"/static/64011cd176305adba8352b23dd9f7566/0a47e/datatablesnet-basic-bootstrap-view.png 600w\", \"/static/64011cd176305adba8352b23dd9f7566/c1b63/datatablesnet-basic-bootstrap-view.png 1200w\", \"/static/64011cd176305adba8352b23dd9f7566/8a69d/datatablesnet-basic-bootstrap-view.png 1209w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Looking good! We've hardly written any code and yet we have a full featured data grid up and running in next to no time. But of course this data is all client side and this solution will not scale for larger datasets. Lets see how we can use the datatables.net server side processing functionality to improve the solution.\"), mdx(\"h3\", null, \"Server Side Processing\"), mdx(\"p\", null, \"So far we have not had to write too much code, but for the server side processing solution we do have to implement code to page, search and sort our dataset. Lets start by installing a nuget package that can help with that:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-powershell\"\n  }, \"Install-Package DataTables.AspNet.AspNetCore -Version 2.0.2\\n\")), mdx(\"p\", null, \"We need to register the datatables.net helpers before we can uses them. My Net 6.0 Web App requires the following to be added to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Program.cs\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"builder.Services.RegisterDataTables();\\n\")), mdx(\"p\", null, \"Now create a new API controller \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CountriesController.cs\"), \" and add the following endpoint:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"[HttpGet]\\n[Route(\\\"/filter\\\")]\\npublic async Task<IActionResult> Get(IDataTablesRequest request)\\n{\\n    var countries = GetCountries();\\n    var pageSize = request.Length;\\n    var totalCount = countries.Count();\\n    var pagedCountries = countries.Skip(request.Start).Take(pageSize);\\n\\n    var response = DataTablesResponse.Create(request, totalCount, totalCount, pagedCountries);\\n\\n    return new DataTablesJsonResult(response, true);\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Notes\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"So now we are writing logic to do the actual pagination of our countries collection - we no longer get this for free!\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"IDataTablesRequest\"), \" provides an abstraction for calls from the jQuery datatables.net control\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DataTables\"), \" package also provides \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DataTablesResponse.Create\"), \" factory method and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DataTablesJsonResult\"), \" for the response data.\")), mdx(\"p\", null, \"Before we can see the above code in action, we need to update our datatables.net control to use the serverside processing. \"), mdx(\"p\", null, \"First delete all the rows from the HTML table in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Index.cshtml\"), \" , the plugin will add in the rows programmatically:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<div class=\\\"mt-5\\\">\\n    <table id=\\\"countries\\\" class=\\\"table\\\">\\n        <thead>\\n        <tr>\\n            <th>&nbsp;</th>\\n            <th>Name</th>\\n            <th>Capital</th>\\n            <th>Continent</th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        </tbody>\\n    </table>\\n</div>\\n\")), mdx(\"p\", null, \"Next update the jQuery code in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Index.cshtml\"), \" to use server side processing like so:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-JavaScript\"\n  }, \" $(document).ready(function () {\\n    $('#countries').DataTable({\\n        serverSide: true,\\n        ajax: {\\n            url: 'filter'\\n        },\\n        columns: [\\n            { data: \\\"code\\\" },\\n            { data: \\\"name\\\" },\\n            { data: \\\"capital\\\" },\\n            { data: \\\"continent\\\" }\\n        ]\\n    });\\n});\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note\"), \" the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://datatables.net/manual/server-side\"\n  }, \"datatables.net documentation\"), \" says you only need to set the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"serverSide\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ajax\"), \" properties, but I could not get this to work.\"), mdx(\"p\", null, \"If you've got this far then when you run the above solution the webpage that loads will look the same as before. But, stick a break point on the API endpoint and lets see what happens: \"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1088px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/d785dc0d3fb78370ba37f157639c4ddc/c6ff8/datatablesnet-api-debug-view.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"27.999999999999996%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVQY002Py06DQBiFeRILTWHmZ+6dGxCwMrVEaEtrdKU1mDQu9P0fQGsXmnw5OcmXszgR1T4nsAA6S2GWQpzlc/xHnEGc4d+EWYavxBm+2sg1ztZWl145u/RGeUOkyYXGTCGhVVlXddO06ybc26JS1mlfCm0WQC7j57eH6fPp9bx/OR8/vh63xwBUACEJzm9SVNa379N0PIx93++223Ecu81mHUIbWqFNhPWSNx1xNZiKFSvpPdEaSUuVxlLWd+F0OrUhrNp203Xj4dAPQz8M+91OuyICpYj1oAwSGiuLlRXOcV8QbYnxxHhuS2YL5grmK249CIm5AC7SnEZAFWI8YzJlKmUK8SWWJuM8pWyO8gRBjCBBeYIv/T8/n78BTCNIvGnikZcAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Api debug view\",\n    \"title\": \"Api debug view\",\n    \"src\": \"/static/d785dc0d3fb78370ba37f157639c4ddc/c6ff8/datatablesnet-api-debug-view.png\",\n    \"srcSet\": [\"/static/d785dc0d3fb78370ba37f157639c4ddc/5a46d/datatablesnet-api-debug-view.png 300w\", \"/static/d785dc0d3fb78370ba37f157639c4ddc/0a47e/datatablesnet-api-debug-view.png 600w\", \"/static/d785dc0d3fb78370ba37f157639c4ddc/c6ff8/datatablesnet-api-debug-view.png 1088w\"],\n    \"sizes\": \"(max-width: 1088px) 100vw, 1088px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Nice, server side pagination done! Now we can use large datasets with this control and not worry about long load times. Of course, we still have a bit of work to do to get sorting and searching working.\"), mdx(\"h3\", null, \"Implementing Server-side Searching\"), mdx(\"p\", null, \"We read the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"searchTerm\"), \" from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"request.Search.Value\"), \". The code below implements search using LINQ to search the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Name\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Capital\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Continent\"), \" columns of the countries and only returns values where there are a match.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"var searchedCountries = string.IsNullOrEmpty(searchTerm)\\n    ? countries\\n    : countries.Where(x => x.Name.Contains(searchTerm, StringComparison.CurrentCultureIgnoreCase) ||\\n                           x.Capital.Contains(searchTerm, StringComparison.CurrentCultureIgnoreCase) ||\\n                           x.Continent.Contains(searchTerm, StringComparison.CurrentCultureIgnoreCase)).ToList();\\n\")), mdx(\"p\", null, \"Of course, the search is empty initially, so we also need to wrap the search in a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"null\"), \" check to ensure that the search code only runs when we actually have a search value - otherwise we will get an exception!\"), mdx(\"h3\", null, \"Implementing Server-side Sorting\"), mdx(\"p\", null, \"For server-side sorting, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"IDataTablesRequest\"), \" provides a collection \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Column\"), \" objects, each of which has a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Sort\"), \" property. If sort has been selected then the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Sort\"), \" property is set and contains the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SortDirection\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"IEnumerable<Country> sortedAndSearchedCountries;\\n\\nswitch (sortField)\\n{\\n    case \\\"capital\\\":\\n        sortedAndSearchedCountries = sortDirection == SortDirection.Ascending\\n            ? searchedCountries.OrderBy(x => x.Capital)\\n            : searchedCountries.OrderByDescending(x => x.Capital).ToList();\\n        break;\\n    case \\\"continent\\\":\\n        sortedAndSearchedCountries = sortDirection == SortDirection.Ascending\\n            ? searchedCountries.OrderBy(x => x.Continent)\\n            : searchedCountries.OrderByDescending(x => x.Continent);\\n        break;\\n    default:\\n        sortedAndSearchedCountries = sortDirection == SortDirection.Ascending\\n            ? searchedCountries.OrderBy(x => x.Name)\\n            : searchedCountries.OrderByDescending(x => x.Name);\\n        break;\\n\\n}\\n\")), mdx(\"h3\", null, \"Review the Server-side Pagination\"), mdx(\"p\", null, \"Yes, we did implement server-side pagination above. However, we need to update the pagination code above so that it takes into account the filtered data. When we create the response, we now differentiate between the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"totalCount\"), \" and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"totalRecordsFilteredCount\"), \". When the search box is used, both counts are displayed on the grid:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c#\"\n  }, \"var pagedGridData = sortedAndSearchedCountries\\n                        .Skip(request.Start)\\n                        .Take(request.Length)\\n                        .ToList();\\n\\nvar totalCount = countries.Count();\\nvar totalRecordsFiltered = searchedCountries.Count();\\nvar response = DataTablesResponse.Create(request, totalCount, totalRecordsFiltered, pagedGridData);\\n\")), mdx(\"p\", null, \"Adding in the above code excerpts implements the code for server-side pagination, searching and sorting. The grid actually looks the same as in the screenshot above. To finish off lets replace the first column, the country code, with the countries flag.\"), mdx(\"h3\", null, \"Adding Flags\"), mdx(\"p\", null, \"As you can see from the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://datatables.net/\"\n  }, \"datatables.net documentation\"), \", the plugin is highly configurable. Lets explore what else is on offer by adding country flags to the data.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://flagpedia.net/download/icons\"\n  }, \"Flagapeida\"), \" has country flag images and I downloaded the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://flagcdn.com/32x24.zip\"\n  }, \"mini waving flags (32x24px)\"), \" images and unzipped them to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wwwroot\\\\images\\\\flags\"), \" directory in Visual Studio.\"), mdx(\"p\", null, \"Next update the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Index.cshtml\"), \" JavaScript code like so:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \" $(document).ready(function () {\\n    $('#countries').DataTable({\\n        serverSide: true,\\n        ajax: {\\n            url: 'filter'\\n        },\\n        columns: [\\n            { data: \\\"code\\\", render: getFlagImage },\\n            { data: \\\"name\\\" },\\n            { data: \\\"capital\\\" },\\n            { data: \\\"continent\\\" }\\n        ],\\n        order: [[1, 'desc']],\\n        columnDefs: [\\n            { targets: [0], orderable: false }\\n        ],\\n\\n    });\\n    \\n    function getFlagImage(flagCode) {\\n        console.log(flagCode)\\n        return  `<img src=\\\"/images/flags/${flagCode.toLowerCase()}.png\\\" />`;\\n    }\\n});\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Notes\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We add the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"getFlagImage\"), \" function which builds the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"img\"), \" tag and returns the HTML to display the flag image instead of the code.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"columnDefs\"), \" field has been added and this stops the first column from being sorted. It doesn't make much sense to sort images.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Finally, we set a default order using the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"order\"), \" property. By default our grid is sorted by \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Name\"), \" ascending.\")), mdx(\"p\", null, \"With these changes made the grid looks a little more exciting:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/09d285feb2e2f233b0e8bf267eec12a1/c1b63/datatablesnet-countries-grid-with-flags.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"64.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVQoz41Sy24bMQzc//+M/ECvRRCghwDtrYkPySWI3doHd9fS6rEPUSIpFdLGG3lPGfCgB4czItX82ImfL+LpTTy+mu/Pw/3uK2G//eruHk4N+DCOszXGg8MATCGlWMWCuIkYmYkaZi6bGjl9np2UfdddrB0yO6b1qqzzoiGmGBMxlyo3KPX5g1HAHJFoFWkQUUhxEQIA8AoimudZK83M66FSepom731A9CFkcgD39vtJlbzaNyIaY+rDYRgWd2tO48GZ0wkcbN5NRAA+Vf0AgI1AMzn4s99brQFu+FR8hmLvqjxS9eBFGf4+76wx6bbphGSMRcRP8jj5gGtWJoeA70cxDFNtaemz96Gen4eZgrvObCF7fz4cldJa61qHmZ1zRLki51Q+nM2+dSlFJPaYtZqqQ9s5p+p/pZTklP7Zz++Wldu2uwjRdl2Otj13UkilVN/3vVJK9r2UvdLZ2WDUaHWxmKG0/g96CO/+6vfEqwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Grid with flags\",\n    \"title\": \"Grid with flags\",\n    \"src\": \"/static/09d285feb2e2f233b0e8bf267eec12a1/c1b63/datatablesnet-countries-grid-with-flags.png\",\n    \"srcSet\": [\"/static/09d285feb2e2f233b0e8bf267eec12a1/5a46d/datatablesnet-countries-grid-with-flags.png 300w\", \"/static/09d285feb2e2f233b0e8bf267eec12a1/0a47e/datatablesnet-countries-grid-with-flags.png 600w\", \"/static/09d285feb2e2f233b0e8bf267eec12a1/c1b63/datatablesnet-countries-grid-with-flags.png 1200w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h3\", null, \"Conclusion\"), mdx(\"p\", null, \"The datatables.net jQuery plugin provides a great quick way to get client side pagination, searching and sorting enabled on an HTML table. However client side solutions are not a great fit for large datasets.\"), mdx(\"p\", null, \"Fortunately the datatables.net plugin has the features to accommodate server-side processing and although it does require the writing of some custom code this is made easier with the help of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DataTables.AspNet.AspNetCore\"), \" package.\"), mdx(\"p\", null, \"A final version of this tutorial code is \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/johnmmoss/AspNetCore-Samples/tree/main/AspNetWebServerSidePagination\"\n  }, \"available on GitHub\"), \" and for more information on the datatables.net plugin checkout its extensive documentation:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://datatables.net/\"\n  }, \"datatables.net\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://datatables.net/examples/index\"\n  }, \"datatables.net Examples\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://datatables.net/manual/server-side\"\n  }, \"datatables.net Server-side Processing\"))));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"c230ecb7-41eb-5df4-999b-9a832c8c168b","slug":"displaying-data-aspnetcore-jquery-datatablesnet","__params":{"slug":"displaying-data-aspnetcore-jquery-datatablesnet"}}},
    "staticQueryHashes": ["3159585216"]}